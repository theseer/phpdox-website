<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "html" "">
<html xmlns="http://www.w3.org/1999/xhtml" class="no-js" lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>zf - Symfony\Component\Security\Acl\Dbal\AclProvider - API Documentation</title>
    <link href="../css/normalize.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="../css/styles.css" rel="stylesheet" type="text/css" media="all"/>
  </head>
  <body>
    <div class="wrapper clearfix">
      <div class="topbar clearfix">
        <h1>
          <a class="brand" href="../index.xhtml">zf - API Documentation</a>
        </h1>
        <ul class="nav">
          <li class="active">
            <a href="../index.xhtml">Overview</a>
          </li>
        </ul>
      </div>
      <div class="navigation">
        <h3>Constants</h3>
        <ul>
          <li>
            <a href="#MAX_BATCH_SIZE">MAX_BATCH_SIZE</a>
          </li>
        </ul>
        <h3>Members</h3>
        <ul>
          <li>
            <a href="#cache">$cache</a>
          </li>
          <li>
            <a href="#connection">$connection</a>
          </li>
          <li>
            <a href="#loadedAces">$loadedAces</a>
          </li>
          <li>
            <a href="#loadedAcls">$loadedAcls</a>
          </li>
          <li>
            <a href="#options">$options</a>
          </li>
          <li>
            <a href="#permissionGrantingStrategy">$permissionGrantingStrategy</a>
          </li>
        </ul>
        <h3>Methods</h3>
        <ul>
          <li>
            <a href="#__construct">__construct</a>
          </li>
          <li>
            <a href="#doUpdateAceIdentityMap">doUpdateAceIdentityMap</a>
          </li>
          <li>
            <a href="#findAcl">findAcl</a>
          </li>
          <li>
            <a href="#findAcls">findAcls</a>
          </li>
          <li>
            <a href="#findChildren">findChildren</a>
          </li>
          <li>
            <a href="#getAncestorIds">getAncestorIds</a>
          </li>
          <li>
            <a href="#getAncestorLookupSql">getAncestorLookupSql</a>
          </li>
          <li>
            <a href="#getFindChildrenSql">getFindChildrenSql</a>
          </li>
          <li>
            <a href="#getLookupSql">getLookupSql</a>
          </li>
          <li>
            <a href="#getSelectObjectIdentityIdSql">getSelectObjectIdentityIdSql</a>
          </li>
          <li>
            <a href="#hydrateObjectIdentities">hydrateObjectIdentities</a>
          </li>
          <li>
            <a href="#lookupObjectIdentities">lookupObjectIdentities</a>
          </li>
          <li>
            <a href="#retrieveObjectIdentityPrimaryKey">retrieveObjectIdentityPrimaryKey</a>
          </li>
          <li>
            <a href="#updateAceIdentityMap">updateAceIdentityMap</a>
          </li>
        </ul>
      </div>
      <div class="content">
        <h2><span style="font-size:60%">Symfony\Component\Security\Acl\Dbal\</span>AclProvider</h2>
        <div class="file-notice">
          <p>An ACL provider implementation.</p>
          <p>
            <pre>This provider assumes that all ACLs share the same PermissionGrantingStrategy.</pre>
          </p>
        </div>
        <ul class="fileinfos">
          <li><b>Author: </b>Johannes M. Schmitt &lt;schmittjoh@gmail.com&gt;</li>
        </ul>
        <h3>Implements</h3>
        <ul class="varlist">
          <li>
            <a href="../interfaces/Symfony_Component_Security_Acl_Model_AclProviderInterface.xhtml">Symfony\Component\Security\Acl\Model\AclProviderInterface</a>
          </li>
        </ul>
        <h3>Constants</h3>
        <ul class="varlist">
          <li><a name="MAX_BATCH_SIZE"/>MAX_BATCH_SIZE = 30<hr/></li>
        </ul>
        <h3>Members</h3>
        <ul class="varlist">
          <li>
            <a name="cache"/>
            <h4><span class="label protected">protected</span>
                $cache</h4>
          </li>
          <li>
            <a name="connection"/>
            <h4><span class="label protected">protected</span>
                $connection</h4>
          </li>
          <li>
            <a name="loadedAces"/>
            <h4><span class="label protected">protected</span>
                $loadedAces</h4>
          </li>
          <li>
            <a name="loadedAcls"/>
            <h4><span class="label protected">protected</span>
                $loadedAcls</h4>
          </li>
          <li>
            <a name="options"/>
            <h4><span class="label protected">protected</span>
                $options</h4>
          </li>
          <li>
            <a name="permissionGrantingStrategy"/>
            <h4><span class="label private">private</span>
                $permissionGrantingStrategy</h4>
          </li>
        </ul>
        <h3>Constructor</h3>
        <ul class="varlist">
          <li>
            <a name="__construct"/>
            <h4><span class="label public">public</span>__construct<span style="font-size:90%;">( <span class="param-type"><span title="Doctrine\DBAL\Driver\Connection">Connection</span></span><strong> $connection</strong>, <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_PermissionGrantingStrategyInterface.xhtml">Symfony\Component\Security\Acl\Model\PermissionGrantingStrategyInterface</a></span><strong> $permissionGrantingStrategy</strong>, <span class="param-type">Array</span><strong> $options</strong>, <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_AclCacheInterface.xhtml">Symfony\Component\Security\Acl\Model\AclCacheInterface</a></span><strong> $cache</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Constructor.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$connection</code> - </li>
                <li><code>$permissionGrantingStrategy</code> - </li>
                <li><code>$options</code> - </li>
                <li><code>$cache</code> - </li>
              </ul>
            </ul>
          </li>
        </ul>
        <h3>Methods</h3>
        <ul class="varlist">
          <li>
            <a name="findAcl"/>
            <h4><span class="label public">public</span>findAcl<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_ObjectIdentityInterface.xhtml">Symfony\Component\Security\Acl\Model\ObjectIdentityInterface</a></span><strong> $oid</strong>, <span class="param-type">Array</span><strong> $sids</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>{@inheritDoc}</li>
            </p>
          </li>
          <li>
            <a name="findAcls"/>
            <h4><span class="label public">public</span>findAcls<span style="font-size:90%;">( <span class="param-type">Array</span><strong> $oids</strong>, <span class="param-type">Array</span><strong> $sids</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>{@inheritDoc}</li>
            </p>
          </li>
          <li>
            <a name="findChildren"/>
            <h4><span class="label public">public</span>findChildren<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_ObjectIdentityInterface.xhtml">Symfony\Component\Security\Acl\Model\ObjectIdentityInterface</a></span><strong> $parentOid</strong>, <span class="param-type"/><strong> $directChildrenOnly</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>{@inheritDoc}</li>
            </p>
          </li>
          <li>
            <a name="getAncestorLookupSql"/>
            <h4><span class="label protected">protected</span>getAncestorLookupSql<span style="font-size:90%;">( <span class="param-type">Array</span><strong> $batch</strong> )</span></h4>
          </li>
          <li>
            <a name="getFindChildrenSql"/>
            <h4><span class="label protected">protected</span>getFindChildrenSql<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_ObjectIdentityInterface.xhtml">Symfony\Component\Security\Acl\Model\ObjectIdentityInterface</a></span><strong> $oid</strong>, <span class="param-type"><span title="Boolean">Boolean</span></span><strong> $directChildrenOnly</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Constructs the SQL for retrieving child object identities for the given object identities.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$oid</code> - </li>
                <li><code>$directChildrenOnly</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
          </li>
          <li>
            <a name="getLookupSql"/>
            <h4><span class="label protected">protected</span>getLookupSql<span style="font-size:90%;">( <span class="param-type">Array</span><strong> $ancestorIds</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Constructs the query used for looking up object identities and associated ACEs, and security identities.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$ancestorIds</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
          </li>
          <li>
            <a name="getSelectObjectIdentityIdSql"/>
            <h4><span class="label protected">protected</span>getSelectObjectIdentityIdSql<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_ObjectIdentityInterface.xhtml">Symfony\Component\Security\Acl\Model\ObjectIdentityInterface</a></span><strong> $oid</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Constructs the SQL for retrieving the primary key of the given object identity.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$oid</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
          </li>
          <li>
            <a name="retrieveObjectIdentityPrimaryKey"/>
            <h4><span class="label true">true</span><span class="label protected">protected</span>retrieveObjectIdentityPrimaryKey<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_ObjectIdentityInterface.xhtml">Symfony\Component\Security\Acl\Model\ObjectIdentityInterface</a></span><strong> $oid</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Returns the primary key of the passed object identity.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$oid</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
          </li>
          <li>
            <a name="doUpdateAceIdentityMap"/>
            <h4><span class="label private">private</span>doUpdateAceIdentityMap<span style="font-size:90%;">( <span class="param-type">Array</span><strong> &amp;$aces</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Does either overwrite the passed ACE, or saves it in the global identity map to ensure every ACE only gets instantiated once.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>&amp;$aces</code> - </li>
              </ul>
            </ul>
          </li>
          <li>
            <a name="getAncestorIds"/>
            <h4><span class="label private">private</span>getAncestorIds<span style="font-size:90%;">( <span class="param-type">Array</span><strong> $batch</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>Retrieves all the ids which need to be queried from the database including the ids of parent ACLs.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$batch</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
          </li>
          <li>
            <a name="hydrateObjectIdentities"/>
            <h4><span class="label private">private</span>hydrateObjectIdentities<span style="font-size:90%;">( <span class="param-type"><span title="Doctrine\DBAL\Driver\Statement">Statement</span></span><strong> $stmt</strong>, <span class="param-type">Array</span><strong> $oidLookup</strong>, <span class="param-type">Array</span><strong> $sids</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>This method is called to hydrate ACLs and ACEs.<pre>This method was designed for performance; thus, a lot of code has been
inlined at the cost of readability, and maintainability.

Keep in mind that changes to this method might severely reduce the
performance of the entire ACL system.</pre></li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$stmt</code> - </li>
                <li><code>$oidLookup</code> - </li>
                <li><code>$sids</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li/>
              </ul>
            </ul>
            <ul>
              <h4 class="throws">Throws:</h4>
              <ul class="throws">
                <li>
                  <code>\RuntimeException</code>
                </li>
              </ul>
            </ul>
          </li>
          <li>
            <a name="lookupObjectIdentities"/>
            <h4><span class="label private">private</span>lookupObjectIdentities<span style="font-size:90%;">( <span class="param-type">Array</span><strong> $batch</strong>, <span class="param-type">Array</span><strong> $sids</strong>, <span class="param-type">Array</span><strong> $oidLookup</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>This method is called for object identities which could not be retrieved from the cache, and for which thus a database query is required.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$batch</code> - </li>
                <li><code>$sids</code> - </li>
                <li><code>$oidLookup</code> - </li>
              </ul>
            </ul>
            <ul>
              <h4 class="return">Returns:</h4>
              <ul class="return">
                <li>mapping object identities to ACL instances</li>
              </ul>
            </ul>
            <ul>
              <h4 class="throws">Throws:</h4>
              <ul class="throws">
                <li>
                  <code>AclNotFoundException</code>
                </li>
              </ul>
            </ul>
          </li>
          <li>
            <a name="updateAceIdentityMap"/>
            <h4><span class="label private">private</span>updateAceIdentityMap<span style="font-size:90%;">( <span class="param-type"><a href="../interfaces/Symfony_Component_Security_Acl_Model_AclInterface.xhtml">Symfony\Component\Security\Acl\Model\AclInterface</a></span><strong> $acl</strong> )</span></h4>
            <p style="font-size:110%; padding-top:5px;">
              <li>This method is called when an ACL instance is retrieved from the cache.</li>
            </p>
            <ul>
              <h4 class="param">Parameters:</h4>
              <ul class="param">
                <li><code>$acl</code> - </li>
              </ul>
            </ul>
          </li>
        </ul>
        <div class="footer">Generated using phpDox 0.5-38-gec79141-dirty - Copyright (C) 2010 - 2013 by Arne Blankerts</div>
      </div>
    </div>
  </body>
</html>
